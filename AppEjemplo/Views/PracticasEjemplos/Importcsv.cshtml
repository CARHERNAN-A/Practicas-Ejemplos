@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@using System.Data;
@model DataTable
@{
    ViewData["Title"] = "Importcsv";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container my-5 p-5 bg-white rounded">
    <div class="row">
        <div class="col">
            <form method="post" asp-controller="PracticasEjemplos" asp-action="Importcsv" enctype="multipart/form-data">
                <div class="input-group">
                    <input name="fileCSV" type="file" class="form-control" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" aria-label="Upload" accept=".csv">
                    <button name="button" class="btn btn-outline-secondary" type="submit" id="subirCSV" value="btnSubir" disabled>Subir</button>
                </div>
            </form>
        </div>
        <div id="example_wrapper" class="container my-2 p-5 bg-white rounded">
            <div class="row">
                <div class="col" id="result">
                    @if (Model != null)
                    {
                        <table id='tableCSV' class='table table-striped' style="width: 100%;">
                            <thead>
                                <tr>
                                    @foreach (DataColumn dc in Model.Columns)
                                    {
                                        <th>@dc.ColumnName</th>
                                    }
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (DataRow dr in Model.Rows)
                                {
                                    <tr>
                                        @foreach (DataColumn dc in Model.Columns)
                                        {
                                            <td>@dr[dc.ColumnName]</td>
                                        }
                                    </tr>
                                }
                            </tbody>
                        </table>
                    }
                </div>
            </div>
        </div>

    </div>
</div>

@*Seccion de scripts que se renderizara en el layout principal*@
@section Scripts{
    <script type="text/javascript" src="~/js/csv2json.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.7.1/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.bootstrap5.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.print.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.colVis.min.js"></script>
}